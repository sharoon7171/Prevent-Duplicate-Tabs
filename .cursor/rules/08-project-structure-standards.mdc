---
description: Professional project structure standards for Chrome extension development with logical file separation and no duplication enforcement
globs: ['**/*']
alwaysApply: true
---

# ğŸ—ï¸ **PROJECT STRUCTURE STANDARDS FOR CHROME EXTENSIONS**

## Core Principle
- **ALWAYS follow professional project structure** for Chrome extension development
- **Organize code logically** with clear separation of concerns
- **Maintain consistent folder organization** across all projects
- **Follow industry best practices** for maintainability and scalability
- **Ensure Chrome Web Store compliance** through proper structure
- **STRICTLY ENFORCE** separate files for every component, function, and feature
- **NEVER DUPLICATE** code across multiple files
- **Use logical separation** based on functionality, not arbitrary line limits

## 1. ğŸš¨ **MANDATORY PROJECT DIRECTORY STRUCTURE (100% COMPLIANCE)**

### Core Directory Organization
```
chrome-extension-project/
â”œâ”€â”€ src/                    # Source code directory (MANDATORY)
â”‚   â”œâ”€â”€ components/         # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ buttons/        # Button components
â”‚   â”‚   â”œâ”€â”€ forms/          # Form components
â”‚   â”‚   â”œâ”€â”€ modals/         # Modal components
â”‚   â”‚   â””â”€â”€ layouts/        # Layout components
â”‚   â”œâ”€â”€ functions/          # Reusable functions
â”‚   â”‚   â”œâ”€â”€ api/            # API functions
â”‚   â”‚   â”œâ”€â”€ utils/          # Utility functions
â”‚   â”‚   â”œâ”€â”€ validators/     # Validation functions
â”‚   â”‚   â””â”€â”€ helpers/        # Helper functions
â”‚   â”œâ”€â”€ constants/          # All constants and configurations
â”‚   â”‚   â”œâ”€â”€ options/        # Extension options constants
â”‚   â”‚   â”œâ”€â”€ api/            # API constants
â”‚   â”‚   â”œâ”€â”€ ui/             # UI constants
â”‚   â”‚   â””â”€â”€ config/         # Configuration constants
â”‚   â”œâ”€â”€ styles/             # All CSS/SCSS files
â”‚   â”‚   â”œâ”€â”€ components/     # Component-specific styles
â”‚   â”‚   â”œâ”€â”€ layouts/        # Layout styles
â”‚   â”‚   â”œâ”€â”€ themes/         # Theme styles
â”‚   â”‚   â””â”€â”€ base/           # Base styles
â”‚   â”œâ”€â”€ types/              # TypeScript type definitions
â”‚   â”œâ”€â”€ hooks/              # Custom React hooks (if applicable)
â”‚   â””â”€â”€ services/           # Business logic services
â”œâ”€â”€ background/              # Background scripts and service workers
â”œâ”€â”€ content/                 # Content scripts and related styles
â”œâ”€â”€ popup/                   # Popup interface (HTML, JS, CSS)
â”œâ”€â”€ options/                 # Options page files
â”œâ”€â”€ assets/                  # Images, icons, and static resources
â”œâ”€â”€ manifest.json            # Extension manifest (MANDATORY)
â”œâ”€â”€ README.md                # Project documentation
â””â”€â”€ package.json             # Dependencies and build scripts
```

### Directory Requirements (MANDATORY)
- **src/**: Contains ALL source code with strict organization
- **background/**: Contains background scripts and service workers
- **content/**: Holds content scripts and related styles
- **popup/**: Includes HTML, JavaScript, and CSS for popup interface
- **options/**: Contains files for the options page
- **assets/**: Stores images, icons, and other static resources
- **manifest.json**: The manifest file defining extension metadata (CRITICAL)

## 2. ğŸš¨ **STRICT FILE SEPARATION STANDARDS (100% COMPLIANCE)**

### Rule 1: One Component Per File (MANDATORY)
- **NEVER put multiple components** in a single file
- **Each component gets its own file** with descriptive naming
- **Component files must be in appropriate subdirectories**
- **Example**: `src/components/buttons/checkbox.mjs` for checkbox component

### Rule 2: One Function Per File (MANDATORY)
- **NEVER put multiple functions** in a single file
- **Each function gets its own file** with descriptive naming
- **Function files must be in appropriate subdirectories**
- **Example**: `src/functions/api/fetchData.mjs` for fetch function

### Rule 3: Constants Separation (MANDATORY)
- **NEVER put constants in component or function files**
- **All constants must be in dedicated constant files**
- **Constants must be organized by category**
- **Example**: `src/constants/options/extensionSettings.mjs` for extension options

### Rule 4: Styles Separation (MANDATORY)
- **NEVER put styles in JavaScript files**
- **All styles must be in dedicated CSS/SCSS files**
- **Styles must be organized by component/feature**
- **Example**: `src/styles/components/checkbox.css` for checkbox styles

## 3. ï¿½ï¿½ **LOGICAL FILE ORGANIZATION STANDARDS (100% COMPLIANCE)**

### File Naming Conventions
- **Use descriptive names** for files, variables, and functions
- **Follow kebab-case** for file names: `user-settings.mjs`
- **Use .mjs extension** for ES6+ modules with import/export
- **Use .js extension** for regular scripts without modules
- **Use .html extension** for HTML files (NEVER .mjs)
- **Use .css extension** for stylesheets (NEVER .mjs)
- **Use .json extension** for configuration files (NEVER .mjs)

### File Placement Rules
```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ buttons/
â”‚   â”‚   â”œâ”€â”€ checkbox.mjs        # Checkbox component only
â”‚   â”‚   â”œâ”€â”€ button.mjs          # Button component only
â”‚   â”‚   â””â”€â”€ toggle.mjs          # Toggle component only
â”‚   â”œâ”€â”€ forms/
â”‚   â”‚   â”œâ”€â”€ input.mjs           # Input component only
â”‚   â”‚   â”œâ”€â”€ select.mjs          # Select component only
â”‚   â”‚   â””â”€â”€ form.mjs            # Form wrapper only
â”‚   â””â”€â”€ modals/
â”‚       â”œâ”€â”€ modal.mjs           # Modal component only
â”‚       â””â”€â”€ dialog.mjs          # Dialog component only

â”œâ”€â”€ functions/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ fetchData.mjs       # Fetch function only
â”‚   â”‚   â”œâ”€â”€ postData.mjs        # Post function only
â”‚   â”‚   â””â”€â”€ updateData.mjs      # Update function only
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ formatDate.mjs      # Date formatting only
â”‚   â”‚   â”œâ”€â”€ validateInput.mjs   # Input validation only
â”‚   â”‚   â””â”€â”€ generateId.mjs      # ID generation only
â”‚   â””â”€â”€ helpers/
â”‚       â”œâ”€â”€ domHelper.mjs       # DOM manipulation only
â”‚       â””â”€â”€ storageHelper.mjs   # Storage operations only

â”œâ”€â”€ constants/
â”‚   â”œâ”€â”€ options/
â”‚   â”‚   â”œâ”€â”€ extensionSettings.mjs   # Extension options only
â”‚   â”‚   â”œâ”€â”€ userPreferences.mjs     # User preferences only
â”‚   â”‚   â””â”€â”€ featureFlags.mjs        # Feature flags only
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ endpoints.mjs           # API endpoints only
â”‚   â”‚   â”œâ”€â”€ headers.mjs             # API headers only
â”‚   â”‚   â””â”€â”€ timeouts.mjs            # API timeouts only
â”‚   â””â”€â”€ ui/
â”‚       â”œâ”€â”€ colors.mjs              # Color constants only
â”‚       â”œâ”€â”€ sizes.mjs               # Size constants only
â”‚       â””â”€â”€ breakpoints.mjs         # Breakpoint constants only

â””â”€â”€ styles/
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ checkbox.css            # Checkbox styles only
    â”‚   â”œâ”€â”€ button.css              # Button styles only
    â”‚   â””â”€â”€ modal.css               # Modal styles only
    â”œâ”€â”€ layouts/
    â”‚   â”œâ”€â”€ header.css              # Header styles only
    â”‚   â”œâ”€â”€ sidebar.css             # Sidebar styles only
    â”‚   â””â”€â”€ footer.css              # Footer styles only
    â””â”€â”€ base/
        â”œâ”€â”€ reset.css                # CSS reset only
        â”œâ”€â”€ typography.css           # Typography styles only
        â””â”€â”€ variables.css            # CSS variables only
```

## 4. ğŸš¨ **LOGICAL CODE FILE STRUCTURE STANDARDS (100% COMPLIANCE)**

### Standard File Structure (MANDATORY)
Every code file must follow this logical structure:

```javascript
// 1. IMPORTS AND DEPENDENCIES (Top of file)
import { helperFunction } from './utils/helper.mjs';
import { CONSTANT_VALUE } from './constants/config.mjs';

// 2. CONSTANTS AND CONFIGURATION (After imports)
const LOCAL_CONFIG = {
    timeout: 5000,
    retries: 3
};

// 3. UTILITY FUNCTIONS (After constants)
function localHelper() {
    // Implementation
}

// 4. MAIN LOGIC (Core functionality)
function mainFunction() {
    // Main implementation using imports and constants
}

// 5. EVENT LISTENERS (If applicable)
document.addEventListener('DOMContentLoaded', mainFunction);

// 6. EXPORT STATEMENTS (End of file)
export { mainFunction, localHelper };
```

### File Content Rules (MANDATORY)
- **Single responsibility principle** - one purpose per file
- **Logical organization** - related functionality grouped together
- **Clear separation** between different code sections
- **No mixing** of different concerns in single file
- **Logical file size** - files should be focused and manageable

## 5. ğŸš¨ **NO DUPLICATION ENFORCEMENT (100% COMPLIANCE)**

### Rule 1: Function Duplication Prevention
- **NEVER create the same function** in multiple files
- **Use import/export** to share functions between files
- **Create utility files** for commonly used functions
- **Example**: `src/functions/utils/commonHelpers.mjs`

### Rule 2: Constant Duplication Prevention
- **NEVER define the same constant** in multiple files
- **Use centralized constant files** for shared values
- **Import constants** where needed
- **Example**: `src/constants/shared/globalConstants.mjs`

### Rule 3: Style Duplication Prevention
- **NEVER duplicate CSS rules** across multiple files
- **Use CSS variables** for shared values
- **Create base styles** for common elements
- **Example**: `src/styles/base/common.css`

### Rule 4: Component Duplication Prevention
- **NEVER create similar components** with slight differences
- **Use component composition** and props for variations
- **Create base components** that can be extended
- **Example**: `src/components/base/BaseButton.mjs`

## 6. ğŸš¨ **REUSABILITY ENFORCEMENT (100% COMPLIANCE)**

### Rule 1: Component Reusability
- **Design components** to be reusable across the project
- **Use props/parameters** for customization
- **Avoid hardcoded values** in components
- **Example**: `<Checkbox enabled={true} onChange={handleChange} />`

### Rule 2: Function Reusability
- **Design functions** to be reusable across the project
- **Use parameters** for different use cases
- **Avoid side effects** that limit reusability
- **Example**: `formatDate(date, format = 'default')`

### Rule 3: Style Reusability
- **Design styles** to be reusable across the project
- **Use CSS classes** for common patterns
- **Avoid component-specific styles** when possible
- **Example**: `.btn-primary`, `.form-input`, `.modal-overlay`

## 7. ğŸš¨ **IMPORT/EXPORT STANDARDS (100% COMPLIANCE)**

### Import Organization (MANDATORY)
```javascript
// 1. External libraries (alphabetical order)
import React from 'react';
import { useState, useEffect } from 'react';

// 2. Internal modules (alphabetical order)
import { API_ENDPOINTS } from '../constants/api/endpoints.mjs';
import { Button } from '../components/buttons/button.mjs';
import { fetchData } from '../functions/api/fetchData.mjs';

// 3. Relative imports (alphabetical order)
import { localHelper } from './helpers/localHelper.mjs';
import { LOCAL_CONSTANTS } from './constants/local.mjs';
```

### Export Standards (MANDATORY)
```javascript
// Named exports for multiple items
export { function1, function2, CONSTANT1 };

// Default export for single main item
export default MainComponent;

// Re-export for convenience
export { Button } from './buttons/button.mjs';
export { Checkbox } from './buttons/checkbox.mjs';
```

## 8. ğŸš¨ **EXAMPLE IMPLEMENTATION (NO DUPLICATION)**

### Scenario: Add Extension Enable/Disable Option

**CORRECT IMPLEMENTATION (Separate files):**

1. **Constants File**: `src/constants/options/extensionSettings.mjs`
```javascript
export const EXTENSION_OPTIONS = {
    ENABLE: 'enable',
    DISABLE: 'disable',
    DEFAULT_STATE: true
};

export const OPTION_LABELS = {
    ENABLE: 'Enable Extension',
    DISABLE: 'Disable Extension'
};
```

2. **Component File**: `src/components/forms/checkbox.mjs`
```javascript
import { EXTENSION_OPTIONS, OPTION_LABELS } from '../../constants/options/extensionSettings.mjs';

export function Checkbox({ checked, onChange, label }) {
    return (
        <label>
            <input type="checkbox" checked={checked} onChange={onChange} />
            {label}
        </label>
    );
}
```

3. **Style File**: `src/styles/components/checkbox.css`
```css
.checkbox-container {
    display: flex;
    align-items: center;
    gap: 8px;
}

.checkbox-input {
    width: 16px;
    height: 16px;
}
```

4. **Usage File**: `src/components/options/extensionToggle.mjs`
```javascript
import { Checkbox } from '../forms/checkbox.mjs';
import { EXTENSION_OPTIONS, OPTION_LABELS } from '../../constants/options/extensionSettings.mjs';

export function ExtensionToggle({ enabled, onToggle }) {
    return (
        <Checkbox 
            checked={enabled} 
            onChange={onToggle}
            label={enabled ? OPTION_LABELS.DISABLE : OPTION_LABELS.ENABLE}
        />
    );
}
```

**INCORRECT IMPLEMENTATION (Single file with everything):**
```javascript
// âŒ NEVER DO THIS - Single file with everything
const EXTENSION_OPTIONS = { ENABLE: 'enable', DISABLE: 'disable' };
const OPTION_LABELS = { ENABLE: 'Enable', DISABLE: 'Disable' };

function Checkbox() { /* Implementation */ }
function ExtensionToggle() { /* Implementation */ }

// Styles mixed in JavaScript file
const styles = { /* CSS in JS - NEVER */ };
```

## 9. ğŸš¨ **RULE VIOLATION PENALTIES (ENFORCED)**

### Penalties for File Organization Violations
- **Single File Violation**: If Cursor AI puts multiple components/functions in one file
  - **Penalty**: Must immediately separate into individual files
  - **Verification**: Must prove each file has single responsibility
  - **Documentation**: Must document the violation and correction

- **Duplication Violation**: If Cursor AI creates duplicate code across files
  - **Penalty**: Must immediately consolidate into shared files
  - **Verification**: Must prove no duplication exists
  - **Documentation**: Must document the violation and correction

- **Style Mixing Violation**: If Cursor AI puts styles in JavaScript files
  - **Penalty**: Must immediately separate styles into CSS files
  - **Verification**: Must prove styles are in dedicated CSS files
  - **Documentation**: Must document the violation and correction

### Penalty Levels (ESCALATING)
1. **First Violation**: Warning + immediate correction required
2. **Second Violation**: 24-hour suspension from file operations
3. **Third Violation**: Complete task restart with user supervision
4. **Fourth Violation**: User must manually approve all future operations

## 10. ğŸš¨ **VERIFICATION CHECKLIST (MANDATORY)**

### Before Creating Any File
- [ ] **Single responsibility** - file has one clear purpose
- [ ] **No duplication** - similar functionality doesn't exist elsewhere
- [ ] **Proper location** - file is in correct subdirectory
- [ ] **Correct extension** - .mjs for modules, .css for styles, .html for markup
- [ ] **Clear naming** - file name describes its purpose
- [ ] **Logical organization** - file follows logical structure standards

### After Creating Any File
- [ ] **Import organization** - imports are properly organized
- [ ] **Export clarity** - exports are clear and minimal
- [ ] **No hardcoded values** - uses constants from appropriate files
- [ ] **Reusable design** - can be used in multiple contexts
- [ ] **Logical file size** - file is focused and manageable

## Benefits of Logical File Separation

### Maintainability
- **Easier to find** specific functionality
- **Simpler debugging** with focused files
- **Faster development** with clear organization
- **Better code reviews** with single-purpose files

### Reusability
- **Components can be reused** across the project
- **Functions can be imported** wherever needed
- **Styles can be shared** between components
- **Constants can be centralized** for easy updates

### Team Collaboration
- **Multiple developers** can work on different files
- **Clear ownership** of specific functionality
- **Reduced merge conflicts** with focused files
- **Better code organization** for new team members

### Chrome Web Store Compliance
- **Professional structure** impresses reviewers
- **Clear organization** shows development quality
- **Maintainable code** reduces policy violations
- **Scalable architecture** supports future updates

## Conclusion

These logical file separation standards ensure that every Chrome extension follows professional organization principles, prevents code duplication, and maximizes reusability. Each file must have a single responsibility and be properly organized in the correct directory structure, using logical separation based on functionality rather than arbitrary limits.

**Remember: One purpose per file, no duplication, maximum reusability, logical organization mandatory!**

## Rule Verification Status

- **Project structure standards**: âœ… ACTIVE
- **Logical file separation**: âœ… ENFORCED
- **No duplication rules**: âœ… ENFORCED
- **Reusability standards**: âœ… ENFORCED
- **Penalty system**: âœ… OPERATIONAL

**Status: LOGICAL FILE SEPARATION RULES ACTIVE - PROFESSIONAL ORGANIZATION ENFORCED**
